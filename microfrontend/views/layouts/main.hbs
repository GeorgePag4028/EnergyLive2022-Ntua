 <!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">

  <link rel="stylesheet" href="css/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Energy Live</title>
  <script type="text/javascript"> 
  function toggle(theform) { 
      document.getElementById("form1").style.display = "none"; 
      document.getElementById("form2").style.display = "none"; 
      document.getElementById("form3").style.display = "none"; 
      if (theform =='actualTotalLoad' )             {document.getElementById("form1").style.display = "block";} 
      if (theform =='aggregatedGenerationPerType' ) {document.getElementById("form2").style.display = "block";} 
      if (theform =='physicalFlows' )               {document.getElementById("form3").style.display = "block";} 
  } 
  </script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
		<script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://highcharts.github.io/export-csv/export-csv.js"></script>
  <script src="https://code.highcharts.com/modules/data.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
 
		<script>
			document.addEventListener('DOMContentLoaded',  () => {
			var series = []
			var datasetnamenode = document.getElementById("datasetname").innerText;
			console.log("This", datasetnamenode)
			var datenode = document.getElementById("dates").innerText;
			var datenode2 = datenode.split(',')
			var datasetnode = document.getElementById("dataset").innerText;
			console.log(datenode2)
			console.log(datasetnode)
			console.log(typeof(datasetnode))
				var node = document.getElementById("databack").innerText;
				var node2 = node.split(',')
				var test = []
				for(var i = 0; i<node2.length; i++){
					test.push(Number(node2[i]))
				}
				series =  [{
						type: 'line',
						data: test,
						name: datasetnamenode,
					}];
    
				const chart = Highcharts.chart('diagram', {
      title: {text: 'Energy Live'},
      subtitle: {text: datasetnode},
      yAxis: {title: {text: 'MWatt'} },
      legend: {layout: 'vertical',align: 'right',verticalAlign: 'middle'},
      credits: {enabled: false },
      exporting: {enabled: true, 
              buttons:{contextButton: {menuItems: ["downloadPNG", "downloadCSV","downloadJSON"]} },
              },
              csv: {annotations:{itemDelimiter:";" } },
              
							xAxis: {
        categories: datenode2
    		},
						series: series, 
      responsive: {rules: [{condition: {maxWidth: 500}, chartOptions: {
        legend: {
          layout: 'horizontal',
          align: 'center',
          verticalAlign: 'bottom'
        } } }] }
    });
    });
  </script> 
 
 <script type="text/javascript">
  function download_image(){}
  function download_data(){chart.print()}
  </script> 

</head>

<body>
  <header class="inner">
    <h2><a href="/"><i class="fas fa-code"></i>
        Energy Live</a></h2>
    <nav>
      <ul>
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/about">About</a>
        </li>
        <li>
          <a href="/auth/logout">Logout</a>
        </li>   
      </ul>
    </nav>
  </header>
    {{{body}}}
    <!-- Footer -->
    <div class="footer-basic">
        <footer>
            <div class="social"><a href="#"><i class="icon ion-social-github" onclick="location.href='https://github.com/ntua/saas2022-50/tree/version0.1';">
            </i></a><a href="#"><i class="icon ion-social-github" onclick="location.href='https://github.com/GeorgePag4028/EnergyLive2022-Ntua'"></i></a></div>
            <p class="copyright">Energy Live Â©. Ntua project on cource SaaS.</p>
        </footer>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
</body>

</html>
